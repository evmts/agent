---
import type { Comment } from "../lib/types";
import Markdown from "./Markdown.astro";
import Avatar from "./Avatar.astro";
import RelativeTime from "./RelativeTime.astro";

interface Props {
  comment: Comment;
  owner?: string;
  repo?: string;
}

const { comment, owner, repo } = Astro.props;
---

<div class="comment">
  <div class="comment-header">
    <Avatar user={{ username: comment.author_username || 'unknown' }} size="sm" />
    <strong>{comment.author_username}</strong>
    <span class="time">Â· <RelativeTime date={comment.created_at} /></span>
  </div>
  <div class="comment-body">
    <Markdown content={comment.body} owner={owner} repo={repo} />
  </div>
</div>
