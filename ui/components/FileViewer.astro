---
interface Props {
  content: string;
  filename: string;
}

const { content, filename } = Astro.props;
const lines = content.split("\n");
const extension = filename.split(".").pop() || "";

// Format lines with line numbers
const formattedContent = lines
  .map((line, i) => {
    const lineNum = String(i + 1).padStart(4, " ");
    return `${lineNum}  ${line}`;
  })
  .join("\n");
---

<div class="file-viewer">
  <div class="file-header">
    <span class="filename">{filename}</span>
    <span class="meta">{lines.length} lines</span>
  </div>
  <pre><code class={`lang-${extension}`}>{formattedContent}</code></pre>
</div>
